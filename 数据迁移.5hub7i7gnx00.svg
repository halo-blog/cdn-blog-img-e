<svg width="524" height="491" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><rect x="0" y="0" width="524" height="491"/></clipPath></defs><g clip-path="url(#clip0)"><rect x="0" y="0" width="524" height="490.823" fill="#FFFFFF"/><path d="M270 46.4833C270 44.5509 271.567 42.9845 273.5 42.9845L348.5 42.9845C350.433 42.9845 352 44.5509 352 46.4833L352 60.4781C352 62.4105 350.433 63.9769 348.5 63.9769L273.5 63.9769C271.567 63.9769 270 62.4105 270 60.4781Z" fill="#B60004" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="Monaco,Monaco_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999639 282.072 59)">master</text><path d="M311.5 64.4768 311.5 467.308" stroke="#000000" stroke-width="0.999682" stroke-linejoin="round" stroke-miterlimit="10" stroke-dasharray="3.99873 2.99905" fill="none" fill-rule="evenodd"/><path d="M306.5 82.3035C306.5 81.2914 307.321 80.4709 308.333 80.4709L315.667 80.4709C316.679 80.4709 317.5 81.2914 317.5 82.3035L317.5 404.521C317.5 405.533 316.679 406.353 315.667 406.353L308.333 406.353C307.321 406.353 306.5 405.533 306.5 404.521Z" stroke="#AD2A26" stroke-width="1.33291" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFE4" fill-rule="evenodd"/><path d="M11 46.4833C11 44.5509 12.567 42.9845 14.5 42.9845L89.5 42.9845C91.433 42.9845 93 44.5509 93 46.4833L93 60.4782C93 62.4105 91.433 63.977 89.5 63.977L14.5 63.977C12.567 63.977 11 62.4105 11 60.4782Z" fill="#B60004" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="Monaco,Monaco_MSFontService,sans-serif" font-weight="400" font-size="16" transform="matrix(1 0 0 0.999639 27.8492 59)">slave</text><path d="M52.5 64.4768 52.5002 467.308" stroke="#000000" stroke-width="0.999682" stroke-linejoin="round" stroke-miterlimit="10" stroke-dasharray="3.99873 2.99905" fill="none" fill-rule="evenodd"/><path d="M47.5 82.3035C47.5 81.2914 48.3207 80.4709 49.3332 80.4709L56.6664 80.4709C57.6789 80.4709 58.4997 81.2914 58.4997 82.3035L58.4997 404.521C58.4997 405.533 57.6789 406.353 56.6664 406.353L49.3332 406.353C48.3207 406.353 47.5 405.533 47.5 404.521Z" stroke="#AD2A26" stroke-width="1.33291" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFE4" fill-rule="evenodd"/><path d="M400 46.4833C400 44.5509 401.567 42.9845 403.5 42.9845L512.5 42.9845C514.433 42.9845 516 44.5509 516 46.4833L516 60.4781C516 62.4105 514.433 63.9769 512.5 63.9769L403.5 63.9769C401.567 63.9769 400 62.4105 400 60.4781Z" fill="#B60004" fill-rule="evenodd"/><text fill="#FFFFFF" font-family="SimHei,SimHei_MSFontService,sans-serif" font-weight="400" font-size="15" transform="matrix(1 0 0 0.999639 412.481 58)">其它<tspan font-family="Monaco,Monaco_MSFontService,sans-serif" font-size="15" x="38.1545" y="0">master</tspan></text><path d="M453.5 64.4768 453.5 467.308" stroke="#000000" stroke-width="0.999682" stroke-linejoin="round" stroke-miterlimit="10" stroke-dasharray="3.99873 2.99905" fill="none" fill-rule="evenodd"/><path d="M449.5 241.246C449.5 240.234 450.321 239.414 451.333 239.414L458.667 239.414C459.679 239.414 460.5 240.234 460.5 241.246L460.5 404.521C460.5 405.533 459.679 406.353 458.667 406.353L451.333 406.353C450.321 406.353 449.5 405.533 449.5 404.521Z" stroke="#AD2A26" stroke-width="1.33291" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFE4" fill-rule="evenodd"/><path d="M58.5 105.795 299.66 105.795 299.66 107.128 58.5 107.128ZM298.327 102.464 306.324 106.462 298.327 110.459Z" fill="#4C5252"/><text fill="#48504F" font-family="Monaco,Monaco_MSFontService,sans-serif" font-weight="400" font-size="13" transform="matrix(1 0 0 0.999639 100.76 84)">1.slave <tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="63.9796" y="0">节点告诉</tspan><tspan font-size="13" x="125.293" y="0">master </tspan><tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="0" y="16.0058">节点拒绝任何客户端请求</tspan></text><path d="M65.1646 147.78 70.4962 147.78 70.4962 149.113 65.1646 149.113ZM74.495 147.78 79.8266 147.78 79.8266 149.113 74.495 149.113ZM83.8253 147.78 89.157 147.78 89.157 149.113 83.8253 149.113ZM93.1557 147.78 98.4873 147.78 98.4873 149.113 93.1557 149.113ZM102.486 147.78 107.818 147.78 107.818 149.113 102.486 149.113ZM111.816 147.78 117.148 147.78 117.148 149.113 111.816 149.113ZM121.147 147.78 126.478 147.78 126.478 149.113 121.147 149.113ZM130.477 147.78 135.809 147.78 135.809 149.113 130.477 149.113ZM139.808 147.78 145.139 147.78 145.139 149.113 139.808 149.113ZM149.138 147.78 154.47 147.78 154.47 149.113 149.138 149.113ZM158.468 147.78 163.8 147.78 163.8 149.113 158.468 149.113ZM167.799 147.78 173.13 147.78 173.13 149.113 167.799 149.113ZM177.129 147.78 182.461 147.78 182.461 149.113 177.129 149.113ZM186.459 147.78 191.791 147.78 191.791 149.113 186.459 149.113ZM195.79 147.78 201.121 147.78 201.121 149.113 195.79 149.113ZM205.12 147.78 210.452 147.78 210.452 149.113 205.12 149.113ZM214.45 147.78 219.782 147.78 219.782 149.113 214.45 149.113ZM223.781 147.78 229.112 147.78 229.112 149.113 223.781 149.113ZM233.111 147.78 238.443 147.78 238.443 149.113 233.111 149.113ZM242.442 147.78 247.773 147.78 247.773 149.113 242.442 149.113ZM251.772 147.78 257.104 147.78 257.104 149.113 251.772 149.113ZM261.102 147.78 266.434 147.78 266.434 149.113 261.102 149.113ZM270.433 147.78 275.764 147.78 275.764 149.113 270.433 149.113ZM279.763 147.78 285.095 147.78 285.095 149.113 279.763 149.113ZM289.093 147.78 294.425 147.78 294.425 149.113 289.093 149.113ZM298.424 147.78 303.755 147.78 303.755 149.113 298.424 149.113ZM66.4975 152.444 58.5 148.446 66.4975 144.449Z" fill="#4C5252"/><text fill="#48504F" font-family="Monaco,Monaco_MSFontService,sans-serif" font-weight="400" font-size="13" transform="matrix(1 0 0 0.999639 103.557 126)">2. master <tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="79.9746" y="0">返回当前的数</tspan><tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="0" y="16.0058">据</tspan><tspan font-size="13" x="21.3266" y="16.0058">offset </tspan><tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="77.3087" y="16.0058">给</tspan><tspan font-size="13" x="98.6353" y="16.0058">slave</tspan></text><path d="M52.5 176.436C52.5 175.332 53.3955 174.437 54.5001 174.437L62.5 174.437C63.6046 174.437 64.5 175.332 64.5 176.436L64.5 215.422C64.5 216.526 63.6046 217.422 62.5 217.422L54.5001 217.422C53.3955 217.422 52.5 216.526 52.5 215.422Z" stroke="#AD2A26" stroke-width="1.33291" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFFF" fill-rule="evenodd"/><path d="M0-0.666214 0.0992437-0.666214C0.467184-0.666214 0.765458-0.36794 0.765458 0L0.765458 28.9963 0.0992437 28.3301 28.7634 28.3301 28.0971 28.9963 28.0971 11.6747 29.4296 11.6747 29.4296 28.9963C29.4296 29.3642 29.1313 29.6625 28.7634 29.6625L0.0992437 29.6625C-0.268696 29.6625-0.566971 29.3642-0.566971 28.9963L-0.566971 0 0.0992437 0.666214 0 0.666214ZM24.7661 13.0071 28.7634 5.01256 32.7606 13.0071Z" fill="#4C5252" transform="matrix(1.83763e-16 1 1.00036 -1.83697e-16 59.5 167.44)"/><text fill="#48504F" font-family="Monaco,Monaco_MSFontService,sans-serif" font-weight="400" font-size="13" transform="matrix(1 0 0 0.999639 104.454 181)">3.<tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="15.9949" y="0">等待数据</tspan><tspan font-size="13" x="77.3087" y="0">offset </tspan><tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="133.291" y="0">与</tspan><tspan font-size="13" x="0" y="16.0058">master </tspan><tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="55.9822" y="16.0058">一致</tspan></text><path d="M58.5 316.719 442.186 316.719 442.186 318.052 58.5 318.052ZM440.853 313.388 448.85 317.386 440.853 321.383Z" fill="#4C5252"/><text fill="#48504F" font-family="Monaco,Monaco_MSFontService,sans-serif" font-weight="400" font-size="13" transform="matrix(1 0 0 0.999639 107.193 294)">5.<tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="15.9949" y="0">标记自己为</tspan><tspan font-size="13" x="90.6378" y="0">master</tspan><tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="138.623" y="0">，</tspan><tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="0" y="16.0058">广播故障转移的结果</tspan></text><path d="M52.5 242.413C52.5 241.308 53.3955 240.413 54.5001 240.413L62.5 240.413C63.6046 240.413 64.5 241.308 64.5 242.413L64.5 280.399C64.5 281.503 63.6046 282.398 62.5 282.398L54.5001 282.398C53.3955 282.398 52.5 281.503 52.5 280.399Z" stroke="#AD2A26" stroke-width="1.33291" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFFF" fill-rule="evenodd"/><path d="M0-0.666214 0.0992437-0.666214C0.467184-0.666214 0.765458-0.36794 0.765458 0L0.765458 28.9963 0.0992437 28.3301 28.7634 28.3301 28.0971 28.9963 28.0971 11.6747 29.4296 11.6747 29.4296 28.9963C29.4296 29.3642 29.1313 29.6625 28.7634 29.6625L0.0992437 29.6625C-0.268696 29.6625-0.566971 29.3642-0.566971 28.9963L-0.566971 0 0.0992437 0.666214 0 0.666214ZM24.7661 13.0071 28.7634 5.01256 32.7606 13.0071Z" fill="#4C5252" transform="matrix(1.83763e-16 1 1.00036 -1.83697e-16 59.5 232.416)"/><text fill="#48504F" font-family="Monaco,Monaco_MSFontService,sans-serif" font-weight="400" font-size="13" transform="matrix(1 0 0 0.999639 103.581 254)">4.<tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="15.9949" y="0">开始故障转移</tspan></text><path d="M312.5 239.247C312.5 238.235 313.321 237.414 314.333 237.414L321.667 237.414C322.679 237.414 323.5 238.235 323.5 239.247L323.5 277.566C323.5 278.579 322.679 279.399 321.667 279.399L314.333 279.399C313.321 279.399 312.5 278.579 312.5 277.566Z" stroke="#AD2A26" stroke-width="1.33291" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFFF" fill-rule="evenodd"/><path d="M0-0.666214 0.0992437-0.666214C0.467184-0.666214 0.765458-0.36794 0.765458 0L0.765458 28.9963 0.0992437 28.3301 28.7634 28.3301 28.0971 28.9963 28.0971 11.6747 29.4296 11.6747 29.4296 28.9963C29.4296 29.3642 29.1313 29.6625 28.7634 29.6625L0.0992437 29.6625C-0.268696 29.6625-0.566971 29.3642-0.566971 28.9963L-0.566971 0 0.0992437 0.666214 0 0.666214ZM24.7661 13.0071 28.7634 5.01256 32.7606 13.0071Z" fill="#4C5252" transform="matrix(1.83763e-16 1 1.00036 -1.83697e-16 318.5 229.417)"/><text fill="#48504F" font-family="Monaco,Monaco_MSFontService,sans-serif" font-weight="400" font-size="13" transform="matrix(1 0 0 0.999639 329.89 221)">4.<tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="15.9949" y="0">开始故障转移</tspan></text><path d="M312.5 350.207C312.5 349.195 313.321 348.374 314.333 348.374L321.667 348.374C322.679 348.374 323.5 349.195 323.5 350.207L323.5 389.526C323.5 390.538 322.679 391.359 321.667 391.359L314.333 391.359C313.321 391.359 312.5 390.538 312.5 389.526Z" stroke="#AD2A26" stroke-width="1.33291" stroke-linejoin="round" stroke-miterlimit="10" fill="#FFFFFF" fill-rule="evenodd"/><path d="M0-0.666214 0.0992437-0.666214C0.467184-0.666214 0.765458-0.36794 0.765458 0L0.765458 28.9963 0.0992437 28.3301 28.7634 28.3301 28.0971 28.9963 28.0971 11.6747 29.4296 11.6747 29.4296 28.9963C29.4296 29.3642 29.1313 29.6625 28.7634 29.6625L0.0992437 29.6625C-0.268696 29.6625-0.566971 29.3642-0.566971 28.9963L-0.566971 0 0.0992437 0.666214 0 0.666214ZM24.7661 13.0071 28.7634 5.01256 32.7606 13.0071Z" fill="#4C5252" transform="matrix(1.83763e-16 1 1.00036 -1.83697e-16 318.5 341.377)"/><text fill="#48504F" font-family="Monaco,Monaco_MSFontService,sans-serif" font-weight="400" font-size="13" transform="matrix(1 0 0 0.999639 328.013 400)">6.<tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="15.9949" y="0">收到广播，开始</tspan><tspan font-family="SimHei,SimHei_MSFontService,sans-serif" font-size="13" x="0" y="16.0058">处理客户端读请求</tspan></text><path d="M58.5 323.717 299.66 323.717 299.66 325.049 58.5 325.049ZM298.327 320.386 306.324 324.383 298.327 328.38Z" fill="#4C5252"/></g></svg>